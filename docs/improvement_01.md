# Improvement 01: 일일 스토리 체계 검증 및 수정

## 기획 확인

### 일일 스토리 흐름
1. **오전 9시 (KST)**: 새 스토리 시작 — 제시글(seed_text)이 공개되고 첫 라운드 시작
2. **매시간 정각** (10시~21시): 이전 라운드 채택 → 다음 라운드 시작
3. **오후 10시**: 13번째 라운드 종료 → 스토리 완성 (`status = 'completed'`)
4. **밤 10시 ~ 다음날 9시**: 휴식 (active 라운드 없음)

### 아카이브
- 매일 완성된 스토리가 아카이브에 추가됨
- 날짜별로 정렬되어 과거 이야기를 열람 가능
- 각 스토리는 **제시글 + 13개 라운드 채택글**로 구성

---

## 발견된 이슈

### 이슈 1: 아카이브 상세 페이지에 제시글(seed_text) 누락

**파일**: `src/app/archive/[id]/page.tsx`

**문제**: 완성된 스토리를 읽을 때 제시글이 표시되지 않음. 라운드별 채택글만 보여서 이야기의 시작이 빠져 있음.

**수정**: 라운드 목록 앞에 seed_text 표시 추가

### 이슈 2: Cron에서 새 스토리 생성 시 seed_text 미설정

**파일**: `src/app/api/cron/advance-round/route.ts`

**문제**: 오전 9시에 자동 생성되는 스토리의 seed_text가 null. 참여자들이 어떤 글을 이어 쓸지 기준이 없음.

**결정**: MVP에서는 seed_text를 **수동 설정** 방식으로 운영. Supabase SQL Editor에서 직접 입력하거나, 별도 관리 화면을 추후 구현.

---

## 수정 내역

| 파일 | 변경 내용 |
|------|----------|
| `src/app/archive/[id]/page.tsx` | seed_text 표시 추가 (본문 시작 부분) |
| `supabase/seed.sql` | 완성된 스토리 2개 + 진행 중 스토리 1개 테스트 데이터 |

---

## 검증 방법

1. Supabase SQL Editor에서 `seed.sql` 실행
2. `npm run dev` → 홈 화면에서 진행 중 스토리 확인
3. 아카이브 페이지에서 완성된 스토리 2개 목록 확인
4. 아카이브 상세에서 **제시글 + 채택글** 순서대로 표시 확인
